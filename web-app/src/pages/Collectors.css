/* ==================== Collectors.css (Fleet-styled, refined) ==================== */
/* ---------- Design Tokens (match Fleet.css + ID badge colors) ---------- */
:root{
  --bg:#f6f8fb;
  --panel:#ffffff;
  --text:#0f172a;
  --muted:#4b5563;
  --subtle:#6b7280;
  --border:#e5e7eb;
  --border-soft:#edf1f5;
  --brand:#166534;   /* dark green to match truck pills */
  --brand-2:#22c55e; /* accent green (kept for focus rings, etc.) */
  --brand-3:#10b981; /* teal-ish focus ring */
  --ok:#16a34a;
  --warn:#f59e0b;
  --danger:#e11d48;
  --slate-500:#64748b;
  --gray-300:#cfd7e3;

  /* Collector ID badge palette (professional blue) */
  --id:#1d4ed8;      /* blue-700 */
  --id-2:#3b82f6;    /* blue-500 */
  --id-bg:#eff6ff;   /* blue-50 */

  --radius:12px;
  --shadow-sm:0 1px 2px rgba(16,24,40,.06);
  --shadow:   0 2px 10px rgba(16,24,40,.08);
  --shadow-lg:0 10px 28px rgba(16,24,40,.18);
}

/* ---------- Page scaffold ---------- */
.collector-main{
  display:flex;
  min-height:100vh;
  background:var(--bg);
  color:var(--text);
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
}

/* Flex layout: 2/3 list + 1/3 form (like Reports) */
.collector-container{
  flex:1;
  display:flex;
  gap:20px;
  padding:20px;
  position:relative;
  background:var(--bg);
}

/* ---------- Success toast ---------- */
.success-message{
  position:absolute; top:10px; left:20px; right:20px; z-index:50;
  display:flex; align-items:center; gap:10px;
  background:linear-gradient(90deg,var(--brand) 0%, var(--brand-2) 100%);
  color:#fff; font-weight:800; letter-spacing:.2px;
  padding:12px 16px; border-radius:var(--radius); box-shadow:var(--shadow);
}
.success-message .success-icon{
  width:22px; height:22px;
  display:inline-flex; align-items:center; justify-content:center;
  background:rgba(255,255,255,.15);
  border-radius:999px; line-height:1;
}
.success-message .success-text{ flex:1; }
.success-message .toast-close{
  background:transparent; border:none; color:#fff; font-size:20px; cursor:pointer;
  opacity:.9; line-height:1;
}
.success-message .toast-close:hover{ opacity:1; }

/* ---------- List (flex: 2.5 like Reports) ---------- */
.collector-list-card{
  flex:2.5;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:20px;
  box-shadow:var(--shadow-sm);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

/* Title with icon: match Fleet size (29px) */
.collector-subtitle{
  display:flex; align-items:center; gap:10px;
  font-size:20px; font-weight:800; color:var(--text);
  margin:2px 2px 14px;
}
.collector-subtitle .icon{ font-size:29px; line-height:1; }

/* ---------- Scroll area (match Fleet look; dark-green thumb) ---------- */
.collector-list{
  max-height:75vh;
  overflow:auto;
  padding-right:6px;
  display:flex; flex-direction:column; gap:12px;

  /* Firefox */
  scrollbar-width: thin;
  scrollbar-color: var(--brand) #e9f6ef; /* thumb / track */
}
/* WebKit (Chrome/Edge/Safari) */
.collector-list::-webkit-scrollbar{ width:10px; }
.collector-list::-webkit-scrollbar-track{
  background:#e9f6ef;            /* subtle green track like Fleet panel */
  border-radius:6px;
}
.collector-list::-webkit-scrollbar-thumb{
  background:linear-gradient(180deg, var(--brand) 0%, var(--brand) 100%); /* solid dark green */
  border-radius:6px;
  border:2px solid #e9f6ef;
}
.collector-empty{ padding:18px; text-align:center; color:var(--subtle); font-style:italic; }

/* ---------- List rows (tight alignment) ---------- */
.collector-item{
  display:grid;
  grid-template-columns:1fr auto;
  align-items:center; column-gap:12px;
  background:#fbfcfe;
  border:1px solid var(--border-soft);
  border-radius:var(--radius);
  padding:14px 16px;
  transition:background .15s ease, border-color .15s ease, transform .15s ease, box-shadow .15s ease;
}
.collector-item:hover{
  background:#f7fbff;
  border-color:#dbe7f3;
  transform:translateY(-1px);
  box-shadow:var(--shadow-sm);
}

/* (Removed left green accent) Keep only a subtle emphasis via text color if truck exists */
.collector-item.has-truck .collector-name{ color:#0b3b2b; }

/* Meta layout */
.collector-meta{ min-width:0; }
.collector-name-line{
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
}

/* Collector name: bold & clear */
.collector-name{
  font-size:16px; font-weight:800; color:var(--text); letter-spacing:.2px;
}

/* Collector ID badge (blue; same shape as truck pill) */
.collector-id-pill{
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.22rem .6rem;
  border-radius:999px; font-size:.82rem; font-weight:900;
  border:1.5px solid var(--id); color:var(--id);
  background:var(--id-bg);
}

/* Truck badge: darker, professional green */
.truck-pill{
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.22rem .6rem;
  border-radius:999px; font-size:.82rem; font-weight:900;
  border:1.5px solid var(--brand); color:var(--brand);
  background:#ecfdf5;
}
.no-truck{ color:var(--muted); font-weight:800; }

/* Row actions */
.collector-actions{
  display:inline-flex; align-items:center; gap:8px;
}
.icon-btn{
  width:36px; height:36px;
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:10px;
  border:1px solid var(--border);
  background:#fff; color:var(--text);
  cursor:pointer;
  transition:background .15s ease, transform .15s ease, border-color .15s ease, box-shadow .15s ease, filter .15s ease;
}
.icon-btn:hover{ transform:translateY(-1px); }
.edit-btn{ color:#a16207; border-color:#fef3c7; background:#fff8e1; }
.edit-btn:hover{ background:#fff1c6; }
.delete-btn{ color:#b91c1c; border-color:#ffe4e6; background:#fff1f2; }
.delete-btn:hover{ background:#ffe0e3; }

/* ---------- Form (flex: 1 like Reports) ---------- */
.collector-form-card{
  flex:1;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:22px;
  height:fit-content;
  box-shadow:var(--shadow);
  position:sticky; top:20px;
  min-width:260px;
}

/* Title with icon: Fleet size (29px) */
.collector-title{
  display:flex; align-items:center; gap:10px;
  font-size:22px; font-weight:800; color:var(--text);
  margin:2px 2px 16px;
}
.collector-title .icon{ font-size:29px; line-height:1; }

/* Inputs (extra breathing room) */
.collector-form-card input,
.collector-form-card select,
.collector-truck-select{
  width:100%; min-width:0;
  height:44px; padding:10px 14px;
  border:1px solid var(--border);
  border-radius:var(--radius);
  background:#fff;
  font-size:14px; color:var(--text);
  outline:none; box-sizing:border-box;
  transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
  margin-bottom:18px;
}
.collector-form-card input::placeholder{ color:#94a3b8; }
.collector-form-card select{ appearance:auto; background-color:#fff; }
.collector-form-card input:focus,
.collector-form-card select:focus,
.collector-truck-select:focus{
  border-color:var(--brand-3);
  box-shadow:0 0 0 3px rgba(16,185,129,.18);
}
.collector-form-card input:hover,
.collector-form-card select:hover,
.collector-truck-select:hover{ border-color:var(--gray-300); }

/* ---------- Password input (centered eye icon with bigger hit-area) ---------- */
.password-wrapper{ position:relative; display:flex; align-items:center; }
.password-wrapper input{ width:100%; padding-right:44px; }
.toggle-password{
  position:absolute;
  right:8px;
  top:50%;
  transform:translateY(-50%);
  width:36px; height:36px;
  display:flex;
  border-radius:8px;
  cursor:pointer;
  color:#6b7280;
  transition:background .15s ease, color .15s ease, transform .05s ease;
}
.toggle-password:hover{ color:#374151; }
.toggle-password:active{ transform:translateY(-50%) scale(0.96); }

/* Truck typeahead */
.truck-typeahead .small-label{
  display:block; font-size:12px; font-weight:800; color:var(--muted);
  margin:2px 0 6px;
}
.truck-typeahead-row{
  display:flex; align-items:center; gap:8px;
}
.btn-secondary{
  background:#fff; color:var(--text);
  border:1px solid var(--border); border-radius:var(--radius);
  padding:10px 14px; font-weight:800; cursor:pointer;
  transition:background .15s ease, border-color .15s ease;
}
.btn-secondary:hover{ background:#f3f6fb; border-color:var(--gray-300); }

/* Helpers */
.collector-form-help{ font-size:12px; color:var(--muted); margin-top:-6px; margin-bottom:8px; }
.collector-form-help.warn{ color:#a15c00; }

/* Actions row */
.collector-actions-row{
  display:flex; align-items:center; gap:10px; margin-top:10px;
}
.save-btn{
  background:linear-gradient(90deg, var(--brand) 0%, var(--brand-2) 100%);
  color:#fff; font-weight:800; border:none; border-radius:var(--radius);
  padding:12px 18px; cursor:pointer; box-shadow:0 2px 6px rgba(16,24,40,.12);
  transition:transform .15s ease, filter .15s ease, box-shadow .15s ease;
}
.save-btn:hover{ transform:translateY(-1px); filter:brightness(.98); box-shadow:0 6px 16px rgba(34,197,94,.25); }
.cancel-btn-outline{
  background:#fff; color:var(--text);
  border:1px solid var(--border); border-radius:var(--radius);
  padding:12px 18px; font-weight:800; cursor:pointer;
  transition:background .15s ease, border-color .15s ease;
}
.cancel-btn-outline:hover{ background:#f3f6fb; border-color:var(--gray-300); }

/* ---------- Modals ---------- */
.modal-overlay{
  position:fixed; inset:0; display:flex; justify-content:center; align-items:center;
  background:rgba(2,6,23,.45); z-index:1000; padding:16px;
}
.modal{
  background:#fff; color:var(--text); width:520px; max-width:calc(100vw - 2rem);
  border:1px solid var(--border); border-radius:14px; box-shadow:var(--shadow-lg); padding:16px 16px 18px;
}
.modal-header{ display:flex; align-items:center; justify-content:center; margin-bottom:.25rem; }
.modal-title{ margin:0; font-size:18px; font-weight:800; color:var(--text); }
.modal-body{ color:var(--muted); }
.modal-buttons{ display:flex; justify-content:flex-end; gap:.5rem; margin-top:.9rem; }
.cancel-btn{ border:1px solid var(--border); background:#fff; color:var(--text); padding:.6rem 1rem; border-radius:10px; font-weight:800; cursor:pointer; }
.confirm-btn{ border:none; background:var(--brand); color:#fff; padding:.6rem 1rem; border-radius:10px; font-weight:800; cursor:pointer; }
.confirm-btn:hover{ filter:brightness(.95); }
.confirm-btn.danger{ background:var(--danger); }
.confirm-btn.warning{ background:#a16207; }

/* ---------- Responsive ---------- */
@media (max-width:1100px){
  .collector-container{ flex-direction:column; }
  .collector-list-card{ flex:auto; }
  .collector-form-card{ position:static; }
  .collector-list{ max-height:unset; }
}
@media (max-width:720px){
  .collector-item{ grid-template-columns:1fr; row-gap:10px; }
  .collector-actions{ justify-content:flex-start; }
  .collector-actions-row{ flex-wrap:wrap; }
}
